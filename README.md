# PortManager

## 简介
PortManager 是一个用于管理端口的简单工具，可以方便地开放、关闭和管理端口。

## 功能
- 开放指定端口或所有端口。
- 关闭已开放的端口。
- 更改已开放的端口。
- 添加或删除端口。
- 支持输入端口范围。
- 日志记录功能，便于调试和监控。

## 使用方法
1. 运行 `port_manager.py` 文件。
2. 根据提示输入要开放的端口，支持以下几种输入方式：
   - 输入单个端口号，例如：`1`。
   - 输入多个端口号，以逗号分隔，例如：`1,2,3`。
   - 输入端口范围，以连字符分隔，例如：`1-100`。
   - 输入 `all` 开放所有端口。
3. 输入命令来管理端口：
   - `add(a) <端口1,端口2,...>`：增加端口。
   - `remove(r) <端口1,端口2,...>`：删除端口。
   - `change(c) <端口1,端口2,...>`：更改端口。
   - `help(h)`：显示帮助信息。
   - `exit`：退出程序。
4. 根据需要执行相应的命令，程序将自动执行对应的操作。

## 更新说明

### v1.2.0（2024-5-25）
1. **日志记录功能**：
   - 添加了日志记录功能，记录信息、警告和错误，便于调试和监控。
   - 默认的日志级别是 `INFO`，可以在代码中进行配置。

### v1.1.0（2024-5-19）
1. **命令缩写**：
   - 增加了命令缩写，方便用户快速输入命令：
     - `add` 命令可以简写为 `a`
     - `remove` 命令可以简写为 `r`
     - `change` 命令可以简写为 `c`
     - `help` 命令可以简写为 `h`

2. **帮助信息**：
   - 增加了帮助信息显示功能，输入 `help` 或 `h` 命令即可显示帮助信息。

3. **重构多线程处理**：
   - 使用 `ThreadPoolExecutor` 进行多线程管理，提高了代码的可维护性和扩展性。

4. **代码优化**：
   - 提高了端口解析的健壮性，添加了对无效端口输入的警告提示。
   - 优化了服务器启动和停止的逻辑，避免了线程池关闭后的错误。

### 修复
1. 修复了停止服务器时可能导致的套接字错误（`[WinError 10038]`）。
2. 修复了在重新启动线程池时可能导致的运行时错误（`RuntimeError: cannot schedule new futures after shutdown`）。

### v1.0.0（2024-5-18）
初始版本，提供了基本的端口打开和管理功能。

## 注意事项
- 程序需要在具有管理员权限的环境中运行，以便操作系统允许端口的开放和关闭。
- 确保输入的端口号在合理的范围内（1 到 65535），并且没有被其他程序占用。
